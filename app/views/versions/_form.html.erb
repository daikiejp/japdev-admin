<%= form_with(model: version, class: "space-y-6") do |form| %>
  <% if version.errors.any? %>
    <div class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg">
      <h2 class="font-bold mb-2"><%= pluralize(version.errors.count, "個のエラー") %>が発生しました:</h2>
      <ul class="list-disc list-inside">
        <% version.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div
    class="
      bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded-lg
    "
  >
    <p class="text-sm">
      <strong>💡 ヒント:</strong>
      GitHubのリポジトリURLを入力すると、最新リリース情報を自動的に取得します。
    </p>
  </div>

  <div>
    <%= form.label :name, "名前", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_field :name,
                    placeholder: "例: React",
                    class:
                      "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
  </div>

  <div>
    <%= form.label :repo_url,
               "GitHubリポジトリURL",
               class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.url_field :repo_url,
                   placeholder: "https://github.com/facebook/react",
                   class:
                     "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
    <p class="text-xs text-gray-500 mt-1">保存時に自動的に最新リリース情報を取得します</p>
  </div>

  <div>
    <%= form.label :version,
               "バージョン",
               class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_field :version,
                    placeholder: "19.0.0",
                    class:
                      "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
    <p class="text-xs text-gray-500 mt-1">GitHubから自動取得される場合は空白のままでOK</p>
  </div>

  <div>
    <%= form.label :date, "リリース日", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.date_field :date,
                    class:
                      "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
  </div>

  <div>
    <%= form.label :description,
               "説明",
               class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_area :description,
                   rows: 3,
                   placeholder: "このリリースの簡単な説明",
                   class:
                     "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
  </div>

  <div>
    <%= form.label :status,
               "ステータス",
               class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :status,
                [%w[新規 new], %w[安定版 stable], %w[長期サポート lts]],
                { include_blank: "選択してください" },
                class:
                  "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
  </div>

  <div>
    <%= form.label :changelog_url,
               "変更履歴URL",
               class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.url_field :changelog_url,
                   placeholder: "https://github.com/facebook/react/releases",
                   class:
                     "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500" %>
    <p class="text-xs text-gray-500 mt-1">GitHubから自動取得される場合は空白のままでOK</p>
  </div>

  <div class="flex gap-3">
    <%= form.submit class:
                  "px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg font-medium hover:shadow-lg transition-all cursor-pointer" %>
    <%= link_to "キャンセル",
    versions_path,
    class:
      "px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-all" %>
  </div>
<% end %>
